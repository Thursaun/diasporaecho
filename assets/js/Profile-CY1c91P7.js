import{C as e,j as o}from"./index-D23deNTG.js";import{r,u as t}from"./vendor-router-o_Ipa-y7.js";import{F as s}from"./FigureCard-CiWDlkW4.js";import"./vendor-react-f9UUolb7.js";const n=["Scholars & Educators","Activists & Freedom Fighters","Political Leaders","Arts & Entertainment","Musicians","Inventors & Innovators","Athletes","Pan-African Leaders","Literary Icons","Business & Entrepreneurs"];function i({onLikeFigureClick:i,onSaveFigureClick:l,onLoginClick:c,savedFigures:a=[]}){const m=r.useContext(e),p=t(),[u,d]=r.useState(!1),[h,N]=r.useState(null),[x,f]=r.useState("all"),[j,v]=r.useState({}),[b,g]=r.useState("");r.useEffect(()=>{m||p("/")},[m,p]),r.useEffect(()=>{if(Array.isArray(a)){const e=a.filter(e=>"object"==typeof e&&null!==e&&(e._id||e.name)),o=e=>{if(!e)return"";const o=e.trim().split(" ");return o[o.length-1].toLowerCase()},r=e=>[...e].sort((e,r)=>{const t=o(e.name),s=o(r.name);return t.localeCompare(s)}),t={all:r(e)};n.forEach(o=>{const s=e.filter(e=>e.categories?.includes(o)||e.category===o);t[o]=r(s)}),v(t)}else v({all:[]})},[a]);const P=e=>{if(!m||!e)return!1;return(e.likedBy||[]).includes(m._id)};return m?o.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:o.jsxDEV("div",{className:"container mx-auto px-4 py-8",children:[o.jsxDEV("h1",{className:"text-3xl font-bold text-center mb-8 text-gray-900",children:"My Collection"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:97,columnNumber:9},this),o.jsxDEV("p",{className:"text-center text-gray-700 mb-8",children:["Welcome back, ",m.name,"! You have ",a.length," saved figure",1!==a.length?"s":"","."]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:98,columnNumber:9},this),o.jsxDEV("div",{className:"mb-8",children:[o.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 items-stretch sm:items-center",children:[o.jsxDEV("div",{className:"relative flex-shrink-0 sm:w-64",children:[o.jsxDEV("select",{value:x,onChange:e=>f(e.target.value),className:"w-full appearance-none bg-white border border-gray-300 rounded-lg px-4 py-3 pr-10 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-secondary focus:border-transparent cursor-pointer shadow-sm hover:border-gray-400 transition-colors",children:[o.jsxDEV("option",{value:"all",children:["All Saved (",j.all?.length||0,")"]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:112,columnNumber:15},this),n.map(e=>o.jsxDEV("option",{value:e,children:[e," (",j[e]?.length||0,")"]},e,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:114,columnNumber:17},this))]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:107,columnNumber:13},this),o.jsxDEV("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:o.jsxDEV("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:121,columnNumber:17},this)},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:120,columnNumber:15},this)},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:119,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:106,columnNumber:11},this),o.jsxDEV("div",{className:"relative flex-1",children:[o.jsxDEV("input",{type:"text",value:b,onChange:e=>g(e.target.value),placeholder:"Search your saved figures...",className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 pl-11 text-sm text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-secondary focus:border-transparent shadow-sm"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:128,columnNumber:13},this),o.jsxDEV("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:o.jsxDEV("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:137,columnNumber:17},this)},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:136,columnNumber:15},this)},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:135,columnNumber:13},this),b&&o.jsxDEV("button",{onClick:()=>g(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:146,columnNumber:19},this)},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:145,columnNumber:17},this)},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:141,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:127,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:104,columnNumber:9},this),("all"!==x||b)&&o.jsxDEV("div",{className:"mt-3 flex flex-wrap gap-2 items-center",children:[o.jsxDEV("span",{className:"text-xs text-gray-500",children:"Filtering:"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:156,columnNumber:13},this),"all"!==x&&o.jsxDEV("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-secondary/10 text-secondary text-xs font-medium rounded-full",children:[x,o.jsxDEV("button",{onClick:()=>f("all"),className:"hover:text-secondary/70",children:o.jsxDEV("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:162,columnNumber:21},this)},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:161,columnNumber:19},this)},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:160,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:158,columnNumber:15},this),b&&o.jsxDEV("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded-full",children:['"',b,'"',o.jsxDEV("button",{onClick:()=>g(""),className:"hover:text-gray-800",children:o.jsxDEV("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:172,columnNumber:21},this)},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:171,columnNumber:19},this)},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:170,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:168,columnNumber:15},this),o.jsxDEV("button",{onClick:()=>{f("all"),g("")},className:"text-xs text-gray-500 hover:text-gray-700 underline",children:"Clear all"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:177,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:155,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:103,columnNumber:7},this),u&&o.jsxDEV("div",{className:"flex justify-center items-center h-64",children:o.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-secondary"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:190,columnNumber:11},this)},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:189,columnNumber:9},this),h&&!u&&o.jsxDEV("div",{className:"text-center py-10",children:o.jsxDEV("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[o.jsxDEV("p",{className:"text-red-500 mb-4",children:h},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:198,columnNumber:13},this),o.jsxDEV("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Refresh Page"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:199,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:197,columnNumber:11},this)},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:196,columnNumber:9},this),!u&&!h&&0===a.length&&o.jsxDEV("div",{className:"text-center py-16",children:[o.jsxDEV("div",{className:"mb-6",children:o.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-auto text-gray-300 mb-4",children:o.jsxDEV("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:214,columnNumber:15},this)},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:213,columnNumber:13},this)},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:212,columnNumber:11},this),o.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No saved figures yet"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:217,columnNumber:11},this),o.jsxDEV("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Start exploring and save figures that inspire you! Your saved figures will appear here."},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:218,columnNumber:11},this),o.jsxDEV("a",{href:"/echoes",className:"inline-flex items-center px-6 py-3 bg-secondary text-white rounded-lg hover:bg-opacity-90 transition-colors focus:outline-none focus:ring-2 focus:ring-secondary focus:ring-offset-2",children:[o.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:o.jsxDEV("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:226,columnNumber:15},this)},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:225,columnNumber:13},this),"Explore Figures"]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:221,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:211,columnNumber:9},this),!u&&!h&&a.length>0&&(()=>{const e=j[x]||[],r=b.trim()?e.filter(e=>{const o=b.toLowerCase();return e.name?.toLowerCase().includes(o)||e.description?.toLowerCase().includes(o)||e.tags?.some(e=>e.toLowerCase().includes(o))}):e;return o.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[r.map((e,r)=>e&&"object"==typeof e?o.jsxDEV(s,{figure:e,onSaveFigureClick:()=>l(e),onLikeFigureClick:()=>i(e),onLoginClick:c,isSaved:!0,isLiked:P(e)},e._id||e.wikipediaId||`figure-${r}`,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:258,columnNumber:17},this):null),0===r.length&&o.jsxDEV("div",{className:"col-span-full text-center py-12",children:[o.jsxDEV("p",{className:"text-gray-500",children:b?`No figures match "${b}"`:"No saved figures in this category"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:272,columnNumber:17},this),o.jsxDEV("p",{className:"text-sm text-gray-400 mt-2",children:b?"Try a different search term or clear the filter.":`Try exploring the ${x} category to find figures to save!`},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:275,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:271,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:249,columnNumber:11},this)})()]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:96,columnNumber:7},this)},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:95,columnNumber:5},this):null}export{i as default};
