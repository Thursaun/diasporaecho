import{C as D,j as e}from"./index-DarJCK46.js";import{b as l,u as T}from"./vendor-DkSc4EIR.js";import{F as y}from"./FigureCard-CT4QHbtj.js";const x=["Intellectuals Leaders","Civil Rights Activists","Political Leaders","Educators & Scholars","Arts, Culture & Entertainment","Inventors & Innovators","Athletic Icons","Freedom Fighters","Pan-African Leaders","Literary Icons"];function C({onLikeFigureClick:j,onSaveFigureClick:v,onLoginClick:b,savedFigures:o=[]}){var f,h,N;const i=l.useContext(D),p=T(),[c,E]=l.useState(!1),[a,R]=l.useState(null),[s,u]=l.useState("all"),[m,d]=l.useState({});l.useEffect(()=>{if(!i){p("/");return}},[i,p]),l.useEffect(()=>{if(console.log("Profile: savedFigures prop changed:",o),Array.isArray(o)){const t=o.filter(n=>typeof n=="object"&&n!==null&&(n._id||n.name)),r={all:t};x.forEach(n=>{r[n]=t.filter(g=>g.category===n)}),d(r)}else console.error("Invalid savedFigures format:",o),d({all:[]})},[o]);const P=t=>!0;return i?e.jsxDEV("div",{className:"container mx-auto px-4 py-8",children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-center mb-8",children:"My Collection"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:69,columnNumber:7},this),e.jsxDEV("p",{className:"text-center text-gray-600 mb-8",children:["Welcome back, ",i.name,"! You have ",o.length," saved figure",o.length!==1?"s":"","."]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:70,columnNumber:7},this),e.jsxDEV("div",{className:"mb-8 overflow-x-auto",children:e.jsxDEV("div",{className:"inline-flex border-b border-gray-300 w-full",children:[e.jsxDEV("button",{className:`px-6 py-3 text-sm font-medium relative whitespace-nowrap ${s==="all"?"text-secondary":"text-gray-500 hover:text-secondary"}`,onClick:()=>u("all"),children:["All Saved",e.jsxDEV("span",{className:"ml-2 bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:((f=m.all)==null?void 0:f.length)||0},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:85,columnNumber:13},this),s==="all"&&e.jsxDEV("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-secondary"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:89,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:76,columnNumber:11},this),x.map(t=>{var r;return e.jsxDEV("button",{className:`px-6 py-3 text-sm font-medium relative whitespace-nowrap ${s===t?"text-secondary":"text-gray-500 hover:text-secondary"}`,onClick:()=>u(t),children:[t,e.jsxDEV("span",{className:"ml-2 bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:((r=m[t])==null?void 0:r.length)||0},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:104,columnNumber:15},this),s===t&&e.jsxDEV("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-secondary"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:108,columnNumber:17},this)]},t,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:94,columnNumber:13},this)})]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:75,columnNumber:9},this)},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:74,columnNumber:7},this),c&&e.jsxDEV("div",{className:"flex justify-center items-center h-64",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-secondary"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:118,columnNumber:11},this)},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:117,columnNumber:9},this),a&&!c&&e.jsxDEV("div",{className:"text-center py-10",children:e.jsxDEV("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[e.jsxDEV("p",{className:"text-red-500 mb-4",children:a},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:126,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Refresh Page"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:127,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:125,columnNumber:11},this)},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:124,columnNumber:9},this),!c&&!a&&o.length===0&&e.jsxDEV("div",{className:"text-center py-16",children:[e.jsxDEV("div",{className:"mb-6",children:e.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-auto text-gray-300 mb-4",children:e.jsxDEV("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:142,columnNumber:15},this)},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:141,columnNumber:13},this)},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:140,columnNumber:11},this),e.jsxDEV("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No saved figures yet"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:145,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Start exploring and save figures that inspire you! Your saved figures will appear here."},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:146,columnNumber:11},this),e.jsxDEV("a",{href:"/echoes",className:"inline-flex items-center px-6 py-3 bg-secondary text-white rounded-lg hover:bg-opacity-90 transition-colors focus:outline-none focus:ring-2 focus:ring-secondary focus:ring-offset-2",children:[e.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:e.jsxDEV("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:154,columnNumber:15},this)},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:153,columnNumber:13},this),"Explore Figures"]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:149,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:139,columnNumber:9},this),!c&&!a&&o.length>0&&e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[(h=m[s])==null?void 0:h.map((t,r)=>!t||typeof t!="object"?(console.warn(`Invalid figure at index ${r}:`,t),null):e.jsxDEV(y,{figure:t,onSaveFigureClick:()=>v(t),onLikeFigureClick:()=>j(t),onLoginClick:b,isSaved:P()},t._id||t.wikipediaId||`figure-${r}`,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:172,columnNumber:15},this)),((N=m[s])==null?void 0:N.length)===0&&e.jsxDEV("div",{className:"col-span-full text-center py-12",children:[e.jsxDEV("p",{className:"text-gray-500",children:"No saved figures in this category"},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:185,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-400 mt-2",children:["Try exploring the ",e.jsxDEV("span",{className:"font-medium",children:s},void 0,!1,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:187,columnNumber:35},this)," category to find figures to save!"]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:186,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:184,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:163,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/peanut/Development/TripleTen/projects/diasporaecho/client/src/components/ProtectedRoute/Profile.jsx",lineNumber:68,columnNumber:5},this):null}export{C as default};
